import java.util.Scanner;

public class Question5 {
	

	class InsufficientBalanceException extends Exception {
	    public InsufficientBalanceException(String msg) {
	        super(msg);
	    }
	}


	class BankAccount {
	    private int accountNumber;
	    private String accountHolder;
	    private double balance;

	    BankAccount(int accNo, String name, double bal) {
	        accountNumber = accNo;
	        accountHolder = name;
	        balance = bal;
	    }

	    
	    public void deposit(double amount) throws IllegalArgumentException {
	        if (amount <= 0)
	            throw new IllegalArgumentException("Deposit amount must be positive");
	        balance += amount;
	        System.out.println("Deposit successful!");
	    }

	    
	    public void withdraw(double amount) throws InsufficientBalanceException {
	        if (amount > balance)
	            throw new InsufficientBalanceException("Insufficient balance!");
	        balance -= amount;
	        System.out.println("Withdrawal successful!");
	    }

	   
	    public double getBalance() {
	        return balance;
	    }

	    
	    public void displayDetails() {
	        System.out.println("Account Number : " + accountNumber);
	        System.out.println("Account Holder : " + accountHolder);
	        System.out.println("Balance        : ₹" + balance);
	    }
	}


	public class BankManagementSystem {

	    public static void main(String[] args) {

	        Scanner sc = new Scanner(System.in);
	        BankAccount account = null;
	        int choice;

	        try {
	            System.out.print("Enter Account Number: ");
	            int accNo = sc.nextInt();
	            sc.nextLine();

	            System.out.print("Enter Account Holder Name: ");
	            String name = sc.nextLine();

	            System.out.print("Enter Initial Balance: ");
	            double bal = sc.nextDouble();

	            account = new BankAccount(accNo, name, bal);

	        } catch (Exception e) {
	            System.out.println("Invalid input! Program terminated.");
	            return;
	        }

	        do {
	            System.out.println("\n--- BANK MENU ---");
	            System.out.println("1. Deposit");
	            System.out.println("2. Withdraw");
	            System.out.println("3. Balance Enquiry");
	            System.out.println("4. Account Details");
	            System.out.println("5. Exit");

	            System.out.print("Enter your choice: ");
	            choice = sc.nextInt();

	            try {
	                switch (choice) {

	                    case 1:
	                        System.out.print("Enter amount to deposit: ");
	                        double dep = sc.nextDouble();
	                        account.deposit(dep);
	                        break;

	                    case 2:
	                        System.out.print("Enter amount to withdraw: ");
	                        double with = sc.nextDouble();
	                        account.withdraw(with);
	                        break;

	                    case 3:
	                        System.out.println("Current Balance: ₹" + account.getBalance());
	                        break;

	                    case 4:
	                        account.displayDetails();
	                        break;

	                    case 5:
	                        System.out.println("Thank you for using the bank system!");
	                        break;

	                    default:
	                        System.out.println("Invalid choice!");
	                }
	            } catch (InsufficientBalanceException | IllegalArgumentException e) {
	                System.out.println("Error: " + e.getMessage());
	            } catch (Exception e) {
	                System.out.println("Invalid input!");
	                sc.nextLine(); 
	            }

	        } while (choice != 5);

	        sc.close();
	    }
	}



